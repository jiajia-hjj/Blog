<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>虚拟DOM | 学习碎碎念</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/blog/favicon.ico">
    <link rel="manifest" href="/blog/manifest.json">
    <link rel="apple-touch-icon" href="/blog/icons/apple-touch-icon.png">
    <link rel="mask-icon" href="/blog/icons/safari-pinned-tab.svg" color="#000000">
    <meta name="description" content="一个小小前端的学习笔记!   ">
    <meta name="author" content="HJJ">
    <meta name="keywords" content="一个小小前端的学习笔记!">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png?v1">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/blog/assets/css/0.styles.37c3a971.css" as="style"><link rel="preload" href="/blog/assets/js/app.8896e472.js" as="script"><link rel="preload" href="/blog/assets/js/3.340b1cfc.js" as="script"><link rel="preload" href="/blog/assets/js/1.ac301aa1.js" as="script"><link rel="preload" href="/blog/assets/js/7.39bdd1a4.js" as="script"><link rel="preload" href="/blog/assets/js/13.3382b018.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.fd6e7077.js"><link rel="prefetch" href="/blog/assets/js/100.115e536c.js"><link rel="prefetch" href="/blog/assets/js/101.e510c2f2.js"><link rel="prefetch" href="/blog/assets/js/102.c8a2d3a9.js"><link rel="prefetch" href="/blog/assets/js/103.f541035a.js"><link rel="prefetch" href="/blog/assets/js/104.634f539b.js"><link rel="prefetch" href="/blog/assets/js/105.746638e8.js"><link rel="prefetch" href="/blog/assets/js/106.ab4beffc.js"><link rel="prefetch" href="/blog/assets/js/107.6993a7bd.js"><link rel="prefetch" href="/blog/assets/js/108.c6d14bde.js"><link rel="prefetch" href="/blog/assets/js/109.82901f9c.js"><link rel="prefetch" href="/blog/assets/js/11.e8610610.js"><link rel="prefetch" href="/blog/assets/js/110.6d9eaae5.js"><link rel="prefetch" href="/blog/assets/js/111.6689fd7d.js"><link rel="prefetch" href="/blog/assets/js/112.74a903bb.js"><link rel="prefetch" href="/blog/assets/js/113.2ad3046b.js"><link rel="prefetch" href="/blog/assets/js/114.529ff8e2.js"><link rel="prefetch" href="/blog/assets/js/115.e51eb860.js"><link rel="prefetch" href="/blog/assets/js/116.d757c760.js"><link rel="prefetch" href="/blog/assets/js/117.e664e11f.js"><link rel="prefetch" href="/blog/assets/js/118.7433dcba.js"><link rel="prefetch" href="/blog/assets/js/119.6356dd11.js"><link rel="prefetch" href="/blog/assets/js/12.df7ae0b0.js"><link rel="prefetch" href="/blog/assets/js/120.c97e77fd.js"><link rel="prefetch" href="/blog/assets/js/121.ddb82f13.js"><link rel="prefetch" href="/blog/assets/js/122.a9e253b5.js"><link rel="prefetch" href="/blog/assets/js/123.2ae3ebf5.js"><link rel="prefetch" href="/blog/assets/js/124.7515565a.js"><link rel="prefetch" href="/blog/assets/js/125.e944312f.js"><link rel="prefetch" href="/blog/assets/js/126.c87c5948.js"><link rel="prefetch" href="/blog/assets/js/127.34dfe486.js"><link rel="prefetch" href="/blog/assets/js/128.e5f5e0cf.js"><link rel="prefetch" href="/blog/assets/js/129.2511c8dd.js"><link rel="prefetch" href="/blog/assets/js/130.48698606.js"><link rel="prefetch" href="/blog/assets/js/131.658af75f.js"><link rel="prefetch" href="/blog/assets/js/132.28d69efc.js"><link rel="prefetch" href="/blog/assets/js/133.becd15b4.js"><link rel="prefetch" href="/blog/assets/js/134.31569752.js"><link rel="prefetch" href="/blog/assets/js/135.d59e4e7f.js"><link rel="prefetch" href="/blog/assets/js/136.6fbd26e3.js"><link rel="prefetch" href="/blog/assets/js/137.20e61ff9.js"><link rel="prefetch" href="/blog/assets/js/138.fb1381bb.js"><link rel="prefetch" href="/blog/assets/js/139.0c786c4d.js"><link rel="prefetch" href="/blog/assets/js/14.dacddc5e.js"><link rel="prefetch" href="/blog/assets/js/140.e17e79ab.js"><link rel="prefetch" href="/blog/assets/js/141.f46f2e5a.js"><link rel="prefetch" href="/blog/assets/js/142.31048f08.js"><link rel="prefetch" href="/blog/assets/js/143.aba7a600.js"><link rel="prefetch" href="/blog/assets/js/144.838632b8.js"><link rel="prefetch" href="/blog/assets/js/145.f0b954e3.js"><link rel="prefetch" href="/blog/assets/js/146.869dcfbb.js"><link rel="prefetch" href="/blog/assets/js/147.06d2f52f.js"><link rel="prefetch" href="/blog/assets/js/148.c0482a4b.js"><link rel="prefetch" href="/blog/assets/js/149.9c645274.js"><link rel="prefetch" href="/blog/assets/js/15.f8a08aea.js"><link rel="prefetch" href="/blog/assets/js/150.355edb34.js"><link rel="prefetch" href="/blog/assets/js/151.674d7dc3.js"><link rel="prefetch" href="/blog/assets/js/152.dea7dc80.js"><link rel="prefetch" href="/blog/assets/js/153.97b2321e.js"><link rel="prefetch" href="/blog/assets/js/154.f2ae2dee.js"><link rel="prefetch" href="/blog/assets/js/155.8feb05ad.js"><link rel="prefetch" href="/blog/assets/js/156.5ef4aa4e.js"><link rel="prefetch" href="/blog/assets/js/157.3b68fe8c.js"><link rel="prefetch" href="/blog/assets/js/158.115bb9a0.js"><link rel="prefetch" href="/blog/assets/js/159.6f1242b7.js"><link rel="prefetch" href="/blog/assets/js/16.45f8fa59.js"><link rel="prefetch" href="/blog/assets/js/160.d4a966ee.js"><link rel="prefetch" href="/blog/assets/js/161.ee10e2d1.js"><link rel="prefetch" href="/blog/assets/js/162.1f9e2c5f.js"><link rel="prefetch" href="/blog/assets/js/163.82175914.js"><link rel="prefetch" href="/blog/assets/js/164.f5a35a06.js"><link rel="prefetch" href="/blog/assets/js/165.bb2a398c.js"><link rel="prefetch" href="/blog/assets/js/166.43fe562e.js"><link rel="prefetch" href="/blog/assets/js/167.9b1ca13c.js"><link rel="prefetch" href="/blog/assets/js/168.bd13f7f0.js"><link rel="prefetch" href="/blog/assets/js/169.45481d55.js"><link rel="prefetch" href="/blog/assets/js/17.8becfea8.js"><link rel="prefetch" href="/blog/assets/js/170.35ab1540.js"><link rel="prefetch" href="/blog/assets/js/171.11f64b9b.js"><link rel="prefetch" href="/blog/assets/js/172.3d9920be.js"><link rel="prefetch" href="/blog/assets/js/173.7a9a2434.js"><link rel="prefetch" href="/blog/assets/js/174.d439b1dc.js"><link rel="prefetch" href="/blog/assets/js/175.61e950a2.js"><link rel="prefetch" href="/blog/assets/js/176.4c973580.js"><link rel="prefetch" href="/blog/assets/js/177.79ff3a2f.js"><link rel="prefetch" href="/blog/assets/js/178.6993fd78.js"><link rel="prefetch" href="/blog/assets/js/179.3fd55fb0.js"><link rel="prefetch" href="/blog/assets/js/18.e4993a35.js"><link rel="prefetch" href="/blog/assets/js/180.3352c9be.js"><link rel="prefetch" href="/blog/assets/js/181.aecb0732.js"><link rel="prefetch" href="/blog/assets/js/182.4037b70c.js"><link rel="prefetch" href="/blog/assets/js/183.bf1523de.js"><link rel="prefetch" href="/blog/assets/js/184.cfb6386e.js"><link rel="prefetch" href="/blog/assets/js/185.31eab98b.js"><link rel="prefetch" href="/blog/assets/js/186.c83cf366.js"><link rel="prefetch" href="/blog/assets/js/187.f2cf6f48.js"><link rel="prefetch" href="/blog/assets/js/188.5138f9ec.js"><link rel="prefetch" href="/blog/assets/js/189.9afeff65.js"><link rel="prefetch" href="/blog/assets/js/19.ba28da13.js"><link rel="prefetch" href="/blog/assets/js/190.d9ad4b32.js"><link rel="prefetch" href="/blog/assets/js/191.47027363.js"><link rel="prefetch" href="/blog/assets/js/192.d7b58be0.js"><link rel="prefetch" href="/blog/assets/js/193.e5001e8a.js"><link rel="prefetch" href="/blog/assets/js/194.a7cacd14.js"><link rel="prefetch" href="/blog/assets/js/195.fdbf7fd9.js"><link rel="prefetch" href="/blog/assets/js/196.57c363ff.js"><link rel="prefetch" href="/blog/assets/js/197.4057fe5a.js"><link rel="prefetch" href="/blog/assets/js/198.83aaf467.js"><link rel="prefetch" href="/blog/assets/js/199.23e1fa8a.js"><link rel="prefetch" href="/blog/assets/js/20.81b4b502.js"><link rel="prefetch" href="/blog/assets/js/200.1ba63b6b.js"><link rel="prefetch" href="/blog/assets/js/201.8944a811.js"><link rel="prefetch" href="/blog/assets/js/202.26c737ac.js"><link rel="prefetch" href="/blog/assets/js/203.3bf0b5c8.js"><link rel="prefetch" href="/blog/assets/js/204.62352811.js"><link rel="prefetch" href="/blog/assets/js/205.7d0c2fbf.js"><link rel="prefetch" href="/blog/assets/js/206.5e8ebc59.js"><link rel="prefetch" href="/blog/assets/js/207.d80d1501.js"><link rel="prefetch" href="/blog/assets/js/208.d681423b.js"><link rel="prefetch" href="/blog/assets/js/209.b480b8de.js"><link rel="prefetch" href="/blog/assets/js/21.eaf8fb9d.js"><link rel="prefetch" href="/blog/assets/js/210.450252ae.js"><link rel="prefetch" href="/blog/assets/js/211.f120d0f8.js"><link rel="prefetch" href="/blog/assets/js/212.1f07445b.js"><link rel="prefetch" href="/blog/assets/js/213.d774c083.js"><link rel="prefetch" href="/blog/assets/js/214.75edd5c9.js"><link rel="prefetch" href="/blog/assets/js/215.a79bd074.js"><link rel="prefetch" href="/blog/assets/js/216.ba6c0c4c.js"><link rel="prefetch" href="/blog/assets/js/217.d6d33caa.js"><link rel="prefetch" href="/blog/assets/js/218.3ce87883.js"><link rel="prefetch" href="/blog/assets/js/219.e495adf6.js"><link rel="prefetch" href="/blog/assets/js/22.430a81e3.js"><link rel="prefetch" href="/blog/assets/js/220.3292486c.js"><link rel="prefetch" href="/blog/assets/js/221.f18b9d99.js"><link rel="prefetch" href="/blog/assets/js/222.8e57f14f.js"><link rel="prefetch" href="/blog/assets/js/223.b74e6b77.js"><link rel="prefetch" href="/blog/assets/js/224.e981ce39.js"><link rel="prefetch" href="/blog/assets/js/225.5b66d0c1.js"><link rel="prefetch" href="/blog/assets/js/226.69bfedec.js"><link rel="prefetch" href="/blog/assets/js/227.53d81346.js"><link rel="prefetch" href="/blog/assets/js/228.2d7e7488.js"><link rel="prefetch" href="/blog/assets/js/229.75984493.js"><link rel="prefetch" href="/blog/assets/js/23.bc17d310.js"><link rel="prefetch" href="/blog/assets/js/230.b6ddf5e6.js"><link rel="prefetch" href="/blog/assets/js/231.9207e8f0.js"><link rel="prefetch" href="/blog/assets/js/232.cb2dfe2b.js"><link rel="prefetch" href="/blog/assets/js/233.badaa6a2.js"><link rel="prefetch" href="/blog/assets/js/234.10e9f4ff.js"><link rel="prefetch" href="/blog/assets/js/235.105778e5.js"><link rel="prefetch" href="/blog/assets/js/236.e04ea163.js"><link rel="prefetch" href="/blog/assets/js/237.1a576c29.js"><link rel="prefetch" href="/blog/assets/js/238.ab06e452.js"><link rel="prefetch" href="/blog/assets/js/239.3152a92d.js"><link rel="prefetch" href="/blog/assets/js/24.fffca1b2.js"><link rel="prefetch" href="/blog/assets/js/240.81fbe05c.js"><link rel="prefetch" href="/blog/assets/js/241.29d06f7f.js"><link rel="prefetch" href="/blog/assets/js/242.2390d2da.js"><link rel="prefetch" href="/blog/assets/js/243.94c626f4.js"><link rel="prefetch" href="/blog/assets/js/244.093ef12b.js"><link rel="prefetch" href="/blog/assets/js/245.fbec2a07.js"><link rel="prefetch" href="/blog/assets/js/246.f378744e.js"><link rel="prefetch" href="/blog/assets/js/247.016cbfc5.js"><link rel="prefetch" href="/blog/assets/js/248.efa12bc5.js"><link rel="prefetch" href="/blog/assets/js/249.39a216fc.js"><link rel="prefetch" href="/blog/assets/js/25.c9a3e5a6.js"><link rel="prefetch" href="/blog/assets/js/250.957f1f9e.js"><link rel="prefetch" href="/blog/assets/js/251.282ff431.js"><link rel="prefetch" href="/blog/assets/js/252.3625c85d.js"><link rel="prefetch" href="/blog/assets/js/26.7860972d.js"><link rel="prefetch" href="/blog/assets/js/27.f693548d.js"><link rel="prefetch" href="/blog/assets/js/28.b68460a5.js"><link rel="prefetch" href="/blog/assets/js/29.4708ab1e.js"><link rel="prefetch" href="/blog/assets/js/30.b0e2fcb9.js"><link rel="prefetch" href="/blog/assets/js/31.0e8ac20f.js"><link rel="prefetch" href="/blog/assets/js/32.af6bf6e4.js"><link rel="prefetch" href="/blog/assets/js/33.2277af79.js"><link rel="prefetch" href="/blog/assets/js/34.fa9aa01a.js"><link rel="prefetch" href="/blog/assets/js/35.f3018035.js"><link rel="prefetch" href="/blog/assets/js/36.554b990f.js"><link rel="prefetch" href="/blog/assets/js/37.589de0d5.js"><link rel="prefetch" href="/blog/assets/js/38.269615da.js"><link rel="prefetch" href="/blog/assets/js/39.d467f5cc.js"><link rel="prefetch" href="/blog/assets/js/4.5fc07e40.js"><link rel="prefetch" href="/blog/assets/js/40.2a9bd5e7.js"><link rel="prefetch" href="/blog/assets/js/41.1851a936.js"><link rel="prefetch" href="/blog/assets/js/42.f1070e7d.js"><link rel="prefetch" href="/blog/assets/js/43.2329e1c5.js"><link rel="prefetch" href="/blog/assets/js/44.3e8984d4.js"><link rel="prefetch" href="/blog/assets/js/45.7728155d.js"><link rel="prefetch" href="/blog/assets/js/46.0256dbb6.js"><link rel="prefetch" href="/blog/assets/js/47.e53cff30.js"><link rel="prefetch" href="/blog/assets/js/48.71ba2ba2.js"><link rel="prefetch" href="/blog/assets/js/49.25a95ebf.js"><link rel="prefetch" href="/blog/assets/js/5.c80ec00f.js"><link rel="prefetch" href="/blog/assets/js/50.e94b4b0f.js"><link rel="prefetch" href="/blog/assets/js/51.f1bd10c3.js"><link rel="prefetch" href="/blog/assets/js/52.ad777b87.js"><link rel="prefetch" href="/blog/assets/js/53.54c4310b.js"><link rel="prefetch" href="/blog/assets/js/54.bdc3eba2.js"><link rel="prefetch" href="/blog/assets/js/55.d35506bc.js"><link rel="prefetch" href="/blog/assets/js/56.f293cbf2.js"><link rel="prefetch" href="/blog/assets/js/57.7206d45b.js"><link rel="prefetch" href="/blog/assets/js/58.b3fa0923.js"><link rel="prefetch" href="/blog/assets/js/59.932ad336.js"><link rel="prefetch" href="/blog/assets/js/6.cdcfab11.js"><link rel="prefetch" href="/blog/assets/js/60.c7f49c43.js"><link rel="prefetch" href="/blog/assets/js/61.5d0a0188.js"><link rel="prefetch" href="/blog/assets/js/62.b501103f.js"><link rel="prefetch" href="/blog/assets/js/63.0146cecf.js"><link rel="prefetch" href="/blog/assets/js/64.4b1aada0.js"><link rel="prefetch" href="/blog/assets/js/65.1cf5a1e1.js"><link rel="prefetch" href="/blog/assets/js/66.b4a3a22a.js"><link rel="prefetch" href="/blog/assets/js/67.5d1b2e1a.js"><link rel="prefetch" href="/blog/assets/js/68.fae0202c.js"><link rel="prefetch" href="/blog/assets/js/69.7f59b4be.js"><link rel="prefetch" href="/blog/assets/js/70.071777c7.js"><link rel="prefetch" href="/blog/assets/js/71.992a9aac.js"><link rel="prefetch" href="/blog/assets/js/72.670cea8e.js"><link rel="prefetch" href="/blog/assets/js/73.f18f3da1.js"><link rel="prefetch" href="/blog/assets/js/74.fb9860cb.js"><link rel="prefetch" href="/blog/assets/js/75.eb94572a.js"><link rel="prefetch" href="/blog/assets/js/76.63b102b3.js"><link rel="prefetch" href="/blog/assets/js/77.e9b3fdeb.js"><link rel="prefetch" href="/blog/assets/js/78.17e51946.js"><link rel="prefetch" href="/blog/assets/js/79.4f8d75a7.js"><link rel="prefetch" href="/blog/assets/js/8.9d5f0dd7.js"><link rel="prefetch" href="/blog/assets/js/80.1316322c.js"><link rel="prefetch" href="/blog/assets/js/81.f24cf910.js"><link rel="prefetch" href="/blog/assets/js/82.ed8efeb8.js"><link rel="prefetch" href="/blog/assets/js/83.c669cf44.js"><link rel="prefetch" href="/blog/assets/js/84.58d43f6b.js"><link rel="prefetch" href="/blog/assets/js/85.0748eaba.js"><link rel="prefetch" href="/blog/assets/js/86.40e09535.js"><link rel="prefetch" href="/blog/assets/js/87.0d611cf2.js"><link rel="prefetch" href="/blog/assets/js/88.3d23a0c1.js"><link rel="prefetch" href="/blog/assets/js/89.3d830fc5.js"><link rel="prefetch" href="/blog/assets/js/9.8b9ac456.js"><link rel="prefetch" href="/blog/assets/js/90.f6edaa95.js"><link rel="prefetch" href="/blog/assets/js/91.d02e34f6.js"><link rel="prefetch" href="/blog/assets/js/92.ce92cdfb.js"><link rel="prefetch" href="/blog/assets/js/93.13311f40.js"><link rel="prefetch" href="/blog/assets/js/94.e9b6ca10.js"><link rel="prefetch" href="/blog/assets/js/95.2e108a3d.js"><link rel="prefetch" href="/blog/assets/js/96.4ba0a0db.js"><link rel="prefetch" href="/blog/assets/js/97.caaa7a23.js"><link rel="prefetch" href="/blog/assets/js/98.1d4b83df.js"><link rel="prefetch" href="/blog/assets/js/99.499c2302.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.37c3a971.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>学习碎碎念</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>一个小小前端的学习笔记!   </p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>HHH</span>
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/assets/images/head.jpg" alt="学习碎碎念" class="logo"> <span class="site-name">学习碎碎念</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/CSS/" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/ES6/" class="nav-link"><i class="undefined"></i>
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/HTML/" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/SVG/" class="nav-link"><i class="undefined"></i>
  SVG
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/Vue/" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/Vue实战/" class="nav-link"><i class="undefined"></i>
  Vue实战
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/uniapp/" class="nav-link"><i class="undefined"></i>
  uniapp
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/前端安全/" class="nav-link"><i class="undefined"></i>
  前端安全
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/前端工具/" class="nav-link"><i class="undefined"></i>
  前端工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/构建工具/" class="nav-link"><i class="undefined"></i>
  构建工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/前端规范/" class="nav-link"><i class="undefined"></i>
  前端规范
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/微信小程序公众号/" class="nav-link"><i class="undefined"></i>
  微信小程序公众号
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/微信小程序/" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/性能优化/" class="nav-link"><i class="undefined"></i>
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/浏览器/" class="nav-link"><i class="undefined"></i>
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/前端缓存/" class="nav-link"><i class="undefined"></i>
  前端缓存
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/移动web/" class="nav-link"><i class="undefined"></i>
  移动web
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/vuepress/" class="nav-link"><i class="undefined"></i>
  vuepress
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="https://www.cnblogs.com/jiajia-hjj/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/smallsunnyfox" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><img src="/blog/assets/images/head.jpg" alt="author-avatar" class="personal-img" data-v-39576ba9> <h3 class="name" data-v-39576ba9>
    HHH
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>217</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>23</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/CSS/" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/ES6/" class="nav-link"><i class="undefined"></i>
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/HTML/" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/SVG/" class="nav-link"><i class="undefined"></i>
  SVG
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/Vue/" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/Vue实战/" class="nav-link"><i class="undefined"></i>
  Vue实战
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/uniapp/" class="nav-link"><i class="undefined"></i>
  uniapp
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/前端安全/" class="nav-link"><i class="undefined"></i>
  前端安全
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/前端工具/" class="nav-link"><i class="undefined"></i>
  前端工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/构建工具/" class="nav-link"><i class="undefined"></i>
  构建工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/前端规范/" class="nav-link"><i class="undefined"></i>
  前端规范
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/微信小程序公众号/" class="nav-link"><i class="undefined"></i>
  微信小程序公众号
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/微信小程序/" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/性能优化/" class="nav-link"><i class="undefined"></i>
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/浏览器/" class="nav-link"><i class="undefined"></i>
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/前端缓存/" class="nav-link"><i class="undefined"></i>
  前端缓存
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/移动web/" class="nav-link"><i class="undefined"></i>
  移动web
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/vuepress/" class="nav-link"><i class="undefined"></i>
  vuepress
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="https://www.cnblogs.com/jiajia-hjj/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/smallsunnyfox" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/note/Vue/Runtime-compiler和Runtime-only.html" class="sidebar-link">Runtime-compiler和Runtime-only的区别</a></li><li><a href="/blog/note/Vue/Watcher分类.html" class="sidebar-link">Watcher分类</a></li><li><a href="/blog/note/Vue/nextTick的原理.html" class="sidebar-link">nextTick的原理</a></li><li><a href="/blog/note/Vue/slot插槽的使用.html" class="sidebar-link">slot插槽的使用</a></li><li><a href="/blog/note/Vue/vue-router.html" class="sidebar-link">Vue Router</a></li><li><a href="/blog/note/Vue/vue.config.js.html" class="sidebar-link">vue.config.js配置</a></li><li><a href="/blog/note/Vue/vuex.html" class="sidebar-link">Vuex学习笔记</a></li><li><a href="/blog/note/Vue/vue双向数据绑定的原理.html" class="sidebar-link">vue双向绑定原理</a></li><li><a href="/blog/note/Vue/vue响应式.html" class="sidebar-link">vue响应式</a></li><li><a href="/blog/note/Vue/vue学习笔记.html" class="sidebar-link">/note/Vue/vue学习笔记.html</a></li><li><a href="/blog/note/Vue/vue指令.html" class="sidebar-link">vue 指令</a></li><li><a href="/blog/note/Vue/vue生命周期.html" class="sidebar-link">vue 生命周期</a></li><li><a href="/blog/note/Vue/vue组件.html" class="sidebar-link">vue组件</a></li><li><a href="/blog/note/Vue/vue计算属性和侦听器.html" class="sidebar-link">vue计算属性和侦听器</a></li><li><a href="/blog/note/Vue/包执行器—npx.html" class="sidebar-link">npx</a></li><li><a href="/blog/note/Vue/包管理器—npm.html" class="sidebar-link">npm</a></li><li><a href="/blog/note/Vue/包管理器—yarn.html" class="sidebar-link">yarn和npm对比</a></li><li><a href="/blog/note/Vue/网络请求模块-axios.html" class="sidebar-link">/note/Vue/网络请求模块-axios.html</a></li><li><a href="/blog/note/Vue/虚拟DOM.html" class="active sidebar-link">虚拟DOM</a></li><li><a href="/blog/note/Vue/路由hash和history的区别和原理.html" class="sidebar-link">HashRouter 和 HistoryRouter 的区别和原理</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>虚拟DOM</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>HHH</span>
            
          <!---->
          2022
        </a></span></div></div> <div data-v-130b300a><main class="page" style="padding-right:0;"><section><div class="page-title"><h1 class="title">虚拟DOM</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>HHH</span></i> <!----> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>Vue</span></i></div></div> <div class="theme-reco-content content__default"><h4 id="一、真实dom和其解析流程"><a href="#一、真实dom和其解析流程" class="header-anchor">#</a> 一、真实DOM和其解析流程？</h4> <p>浏览器渲染引擎工作流程，大致分为5步：</p> <p><strong>创建DOM树——创建StyleRules——创建Render树——布局Layout——绘制Painting</strong></p> <ul><li><p>第一步，用HTML分析器，分析HTML元素，<strong>构建一颗DOM树</strong>(标记化和树构建)。</p></li> <li><p>第二步，用CSS分析器，分析CSS文件和元素上的inline样式，生成页面的样式表。</p></li> <li><p>第三步，将DOM树和样式表，关联起来，构建一颗Render树(这一过程又称为Attachment)。每个DOM节点都有<strong>attach方法，接受样式信息</strong>，返回一个render对象(又名renderer)。这些render对象最终会被构建成一颗Render树。</p></li> <li><p>第四步，有了Render树，浏览器开始布局，为每个Render树上的节点确定一个在显示屏上出现的精确坐标。</p></li> <li><p>第五步，Render树和节点显示坐标都有了，就调用每个节点<strong>paint方法，把它们绘制</strong>出来。</p></li></ul> <p><strong>DOM树的构建是文档加载完成开始的？</strong></p> <ul><li><p>构建DOM树是一个<strong>渐进过程</strong>，为达到更好用户体验，渲染引擎会尽快将内容显示在屏幕上。它不必等到整个HTML文档解析完毕之后才开始构建rende树和布局。</p> <p><strong>Render树是DOM树和CSSOM树构建完毕才开始构建的吗？</strong></p></li> <li><p>这三个过程在实际进行的时候又不是完全独立，而是会有交叉。会造成一边加载，一遍解析，一遍渲染的工作现象。</p></li> <li><p><strong>CSS的解析是从右往左逆向解析的</strong>(从DOM树的下－&gt;上解析比上－&gt;下解析效率高)，<strong>嵌套标签越多，解析越慢。</strong></p></li></ul> <h4 id="二、js操作真实dom的代价"><a href="#二、js操作真实dom的代价" class="header-anchor">#</a> 二、JS操作真实DOM的代价！</h4> <ul><li>用我们传统的开发模式，原生JS或JQ操作DOM时，浏览器会从构建DOM树开始从头到尾执行一遍流程。在一次操作中，我需要<strong>更新10个DOM节点，浏览器收到第一个DOM请求后并不知道还有9次更新操作，因此会马上执行流程，最终执行10次。</strong></li> <li>例如，第一次计算完，紧接着下一个DOM更新请求，这个节点的坐标值就变了，前一次计算为无用功。计算DOM节点坐标值等都是白白浪费的性能。即使计算机硬件一直在迭代更新，操作DOM的代价仍旧是昂贵的，频繁操作还是会出现页面卡顿，影响用户体验。</li></ul> <h4 id="三、为什么需要虚拟dom-它有什么好处"><a href="#三、为什么需要虚拟dom-它有什么好处" class="header-anchor">#</a> 三、为什么需要虚拟DOM，它有什么好处?</h4> <p>​    Web界面由DOM树(树的意思是数据结构)来构建，当其中一部分发生变化时，其实就是对应某个DOM节点发生了变化，</p> <p>​    虚拟DOM就是为了<strong>解决浏览器性能问题</strong>而被设计出来的。<strong>如前</strong>，若一次操作中有10次更新DOM的动作，虚拟DOM不会立即操作DOM，而是将这10次更新的diff内容保存到本地一个JS对象中，最终将这个JS对象一次性attch到DOM树上，再进行后续操作，避免大量无谓的计算量。**所以，**用JS对象模拟DOM节点的好处是，页面的更新可以先全部反映在JS对象(虚拟DOM)上，操作内存中的JS对象的速度显然要更快，等更新完成后，再将最终的JS对象映射成真实的DOM，交由浏览器去绘制。</p> <h4 id="四、实现虚拟dom"><a href="#四、实现虚拟dom" class="header-anchor">#</a> 四、实现虚拟DOM</h4> <p>​    例如一个真实的DOM节点。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>真实DOM</p> <p>​    我们用JS来模拟DOM节点实现虚拟DOM。</p> <p><img src="/blog/assets/img/2.f30a06cb.png" alt=""></p> <p>虚拟DOM</p> <p>​    其中的Element方法具体怎么实现的呢？</p> <p><img src="/blog/assets/img/3.4cb50192.png" alt=""></p> <p>Element方法实现</p> <p>​    第一个参数是节点名（如div），第二个参数是节点的属性（如class），第三个参数是子节点（如ul的li）。除了这三个参数会被保存在对象上外，还保存了<strong>key和count</strong>。其相当于形成了虚拟DOM树。</p> <p><img src="/blog/assets/img/4.6fd3d0dd.png" alt=""></p> <p>虚拟DOM树</p> <p>​    有了JS对象后，最终还需要将其映射成真实DOM</p> <p><img src="/blog/assets/img/5.117b0d1a.png" alt=""></p> <p>虚拟DOM对象映射成真实DOM</p> <p>​    我们已经完成了创建虚拟DOM并将其映射成真实DOM，这样所有的更新都可以先反应到虚拟DOM上，如何反应？需要用到<strong>Diff算法</strong>。</p> <p>​    两棵树如果完全比较时间复杂度是O(n^3)，但参照《深入浅出React和Redux》一书中的介绍，React的Diff算法的时间复杂度是O(n)。要实现这么低的时间复杂度，意味着只能平层的比较两棵树的节点，放弃了深度遍历。这样做，似乎牺牲掉了一定的精确性来换取速度，但考虑到现实中前端页面通常也不会跨层移动DOM元素，这样做是最优的。</p> <h4 id="深度优先遍历-记录差异"><a href="#深度优先遍历-记录差异" class="header-anchor">#</a> 深度优先遍历，记录差异</h4> <p>​    。。。。</p> <h4 id="五、diff操作"><a href="#五、diff操作" class="header-anchor">#</a> 五、Diff操作</h4> <p>​    在实际代码中，会对新旧两棵树进行一个深度的遍历，每个节点都会有一个标记。每遍历到一个节点就把该节点和新的树进行对比，如果有差异就记录到一个对象中。</p> <p>​    下面我们创建一棵新树，用于和之前的树进行比较，来看看Diff算法是怎么操作的。</p> <p><img src="/blog/assets/img/6.f30a06cb.png" alt=""></p> <p>old Tree</p> <p><img src="/blog/assets/img/7.be1f5718.png" alt=""></p> <p>new Tree</p> <p>​    平层Diff，只有以下4种情况：</p> <p>​    1、<strong>节点类型变了</strong>，例如下图中的P变成了H3。我们将这个过程称之为<strong>REPLACE</strong>。直接将旧节点卸载并装载新节点。旧节点包括下面的子节点都将被卸载，如果新节点和旧节点仅仅是类型不同，但下面的所有子节点都一样时，这样做效率不高。但为了避免O(n^3)的时间复杂度，这样是值得的。这也提醒了开发者，应该避免无谓的节点类型的变化，例如运行时将div变成p没有意义。</p> <p>​    2、<strong>节点类型一样，仅仅属性或属性值变了。<strong>我们将这个过程称之为</strong>PROPS</strong>。此时不会触发节点卸载和装载，而是节点更新。</p> <p><img src="/blog/assets/img/8.8e331e51.png" alt=""></p> <p>查找不同属性方法</p> <p>​    3、<strong>文本变了</strong>，文本对也是一个Text Node，也比较简单，直接修改文字内容就行了，我们将这个过程称之为<strong>TEXT</strong>。</p> <p>​    4、移动／增加／删除 子节点，我们将这个过程称之为<strong>REORDER</strong>。看一个例子，在A、B、C、D、E五个节点的B和C中的BC两个节点中间加入一个F节点。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>例子</p> <p>​    我们<strong>简单粗暴的做法</strong>是遍历每一个新虚拟DOM的节点，与旧虚拟DOM对比相应节点对比，在旧DOM中是否存在，不同就卸载原来的按上新的。这样会对F后边每一个节点进行操作。卸载C，装载F，卸载D，装载C，卸载E，装载D，装载E。<strong>效率太低。</strong></p> <p><img src="data:image/png;base64,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" alt=""></p> <p>粗暴做法</p> <p>​    如果我们在JSX里为数组或枚举型元素增加上key后，它能够根据key，直接找到具体位置进行操作，效率比较高。常见的<strong>最小编辑距离问题</strong>，可以用Levenshtein Distance算法来实现，时间复杂度是O(M*N)，但通常我们只要一些简单的移动就能满足需要，降低精确性，将时间复杂度降低到O(max(M,N))即可。</p> <p><img src="/blog/assets/img/11.e701dd9b.png" alt=""></p> <p>最终Diff出来的结果</p> <h4 id="六、映射成真实dom"><a href="#六、映射成真实dom" class="header-anchor">#</a> 六、映射成真实DOM</h4> <p>​    虚拟DOM有了，Diff也有了，现在就可以将Diff应用到真实DOM上了。深度遍历DOM将Diff的内容更新进去。</p> <p><img src="/blog/assets/img/12.5382cf6d.png" alt=""></p> <p>根据Diff更新DOM</p> <p><img src="/blog/assets/img/13.55475586.png" alt=""></p> <p>根据Diff更新DOM</p> <p>我们会有两个虚拟DOM(js对象，new/old进行比较diff)，用户交互我们操作数据变化new虚拟DOM，old虚拟DOM会映射成<strong>实际DOM(<strong>js对象生成的DOM文档)通过</strong>DOM fragment</strong>操作给浏览器渲染。当修改new虚拟DOM，会把newDOM和oldDOM通过diff算法比较，得出diff结果数据表(用4种变换情况表示)。再把diff结果表通过<strong>DOM</strong> <strong>fragment</strong>更新到<strong>浏览器DOM</strong>中。</p> <p>虚拟DOM的存在的意义？vdom 的真正意义是为了实现跨平台，服务端渲染，以及提供一个性能还算不错 Dom 更新策略。vdom 让整个 mvvm 框架灵活了起来</p> <p>Diff算法只是为了虚拟DOM比较替换效率更高，通过Diff算法得到diff算法结果数据表(需要进行哪些操作记录表)。原本要操作的DOM在vue这边还是要操作的，只不过用到了js的<strong>DOM</strong> <strong>fragment</strong>来操作dom（统一计算出所有变化后统一更新一次DOM）进行浏览器DOM一次性更新。其实<strong>DOM</strong> <strong>fragment</strong>我们不用平时发开也能用，但是这样程序员写业务代码就用把DOM操作放到fragment里，这就是框架的价值，程序员才能专注于写业务代码**。**</p> <blockquote><p>转自：</p> <p><a href="https://www.jianshu.com/p/af0b398602bc" target="_blank" rel="noopener noreferrer">vue核心之虚拟DOM(vdom)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间: </span> <span class="time">2022-08-14 5:45:18</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/blog/note/Vue/网络请求模块-axios.html" class="prev">
            /note/Vue/网络请求模块-axios.html
          </a></span> <span class="next"><a href="/blog/note/Vue/路由hash和history的区别和原理.html">
            HashRouter 和 HistoryRouter 的区别和原理
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:0;" data-v-cb1513f6></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----></div></div>
    <script src="/blog/assets/js/app.8896e472.js" defer></script><script src="/blog/assets/js/3.340b1cfc.js" defer></script><script src="/blog/assets/js/1.ac301aa1.js" defer></script><script src="/blog/assets/js/7.39bdd1a4.js" defer></script><script src="/blog/assets/js/13.3382b018.js" defer></script>
  </body>
</html>
