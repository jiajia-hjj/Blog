(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{821:function(t,s,a){"use strict";a.r(s);var n=a(18),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"cdn劫持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cdn劫持"}},[t._v("#")]),t._v(" CDN劫持")]),t._v(" "),a("ul",[a("li",[t._v("使用内容分发网络(CDNs) 在多个站点之间共享脚本和样式表等文件可以提高站点性能并节省带宽。")]),t._v(" "),a("li",[t._v("然而，使用CDN也存在风险，如果攻击者获得对CDN的控制权，则可以将任意恶意内容注入到 CDN上的文件中（或完全替换掉文件），因此可能潜在地攻击所有从该 CDN 获取文件的站点。")])]),t._v(" "),a("h2",{attrs:{id:"预防方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预防方案"}},[t._v("#")]),t._v(" 预防方案")]),t._v(" "),a("p",[t._v("将使用 "),a("code",[t._v("base64")]),t._v(" 编码过后的文件哈希值写入你所引用的  "),a("code",[t._v("<script>")]),t._v("或 标签的"),a("code",[t._v("integrity")]),t._v(" 属性值中即可启用子资源完整性能。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("integrity")]),t._v(" 属性允许浏览器检查获取的脚本，以确保如果源已被操纵，则永远不会加载代码。")]),t._v(" "),a("li",[t._v("在线生成 SRI 哈希值的工具 ："),a("a",{attrs:{href:"https://www.srihash.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("SRI Hash Generator"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--integrity为了防止 CDN 篡改 javascript 用的--\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://code.jquery.com/jquery-3.3.1.slim.min.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("integrity")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("crossorigin")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("anonymous"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);