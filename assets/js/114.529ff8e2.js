(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{737:function(e,t,r){"use strict";r.r(t);var a=r(18),_=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"watcher分类"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#watcher分类"}},[e._v("#")]),e._v(" Watcher分类")]),e._v(" "),r("h3",{attrs:{id:"computed-watcher"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#computed-watcher"}},[e._v("#")]),e._v(" computed-watcher")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("数据变 →使用数据的计算属性变 → 使用计算属性的视图变")])]),e._v(" "),r("li",[r("p",[e._v("每个computed属性都创建一个watcher（正是computed-watcher），并添加到相关data属性值的订阅者队列(deep)。")])]),e._v(" "),r("li",[r("p",[e._v("watcher的回调函数正是computed属性值(get,set)")])])]),e._v(" "),r("h3",{attrs:{id:"user-watcher"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#user-watcher"}},[e._v("#")]),e._v(" user-watcher")]),e._v(" "),r("ul",[r("li",[e._v("数据变 → 开发者主动注册的watch回调函数执行")])]),e._v(" "),r("h3",{attrs:{id:"render-watcher"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#render-watcher"}},[e._v("#")]),e._v(" render-watcher")]),e._v(" "),r("ul",[r("li",[e._v("数据变 → 使用数据的视图变")]),e._v(" "),r("li",[e._v("render-watcher是订阅者")]),e._v(" "),r("li",[e._v("每一个组件都会有一个 render-watcher")])]),e._v(" "),r("p",[r("strong",[e._v("收集订阅者的流程")])]),e._v(" "),r("ol",[r("li",[e._v("订阅者执行回调（render函数）==>我的理解是解析模板")]),e._v(" "),r("li",[e._v("触发属性值getter")]),e._v(" "),r("li",[e._v("添加到订阅者队列")]),e._v(" "),r("li",[e._v("重复2、3直至所有getter执行完")])]),e._v(" "),r("p",[r("strong",[e._v("通知订阅者的流程")])]),e._v(" "),r("ol",[r("li",[e._v("属性改变")]),e._v(" "),r("li",[e._v("触发属性值setter")]),e._v(" "),r("li",[e._v("dep通知订阅者（render watcher）")]),e._v(" "),r("li",[e._v("订阅者执行回调（render函数）")])]),e._v(" "),r("h2",{attrs:{id:"三种-watcher-的执行顺序"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#三种-watcher-的执行顺序"}},[e._v("#")]),e._v(" 三种 watcher 的执行顺序")]),e._v(" "),r("p",[e._v("watcher 执行顺序，分别是:")]),e._v(" "),r("blockquote",[r("p",[e._v("computed-watcher-> user-watcher -> render-watcher")])]),e._v(" "),r("p",[e._v("保证在更新组件视图的时候，computed 属性已经是最新值了，如果 render-watcher 排在 computed-render 前面，就会导致页面更新的时候 computed 值为旧数据。")]),e._v(" "),r("blockquote",[r("p",[e._v("学习：")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://juejin.cn/post/6844904128435470350",target:"_blank",rel:"noopener noreferrer"}},[e._v("说说Vue的几个watcher（一）——render watcher"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=_.exports}}]);