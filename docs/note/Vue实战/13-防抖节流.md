---
title: 防抖节流
tags:
  - Vue
categories:
  - Vue实战
---



### 演示卡顿现象

+ 正常：事件触发非常频繁，而且每一次的触发，回调函数都要去执行（如果时间很短，而且回调内部有计算，那么很有可能出现浏览器卡顿）

### 防抖节流

**防抖**：前面的所有触发都被取消，最后一次执行再规定时间之后才会触发。连续快速触发只执行一次。。。。。用户操作很频繁，但是只执行一次，减少业务负担。  ===>输入框

**节流**：在规定的间隔范围内不会重复触发回调，只有大于这个时间间隔才会触发回调。。。。。用户操作很频繁，但是**把频繁的操作变为少量的操作**，使浏览器有充分时间解析代码





### lodash插件防抖和节流

在进行窗口的resize、scroll，输入框内容校验等操作时，如果事件处理函数调用的频率无限制，会加重浏览器的负担，导致用户体验非常糟糕。此时我们可以采用debounce（防抖）和throttle（节流）的方式来减少调用频率，同时又不影响实际效果。
安装lodash插件，该插件提供了防抖和节流的函数，我们可以引入js文件，直接调用。当然也可以自己写防抖和节流的函数
lodash官网
防抖函数
节流函数

防抖和节流简述
例如：下面代码就是将changeIndex设置了节流，如果操作很频繁，限制50ms执行一次。这里函数定义采用的键值对形式。throttle的返回值就是一个函数，所以直接键值对赋值就可以，函数的参数在function中传入即可。

```js
import {throttle} from 'lodash'

 methods: {
    //鼠标进入修改响应元素的背景颜色
    //采用键值对形式创建函数，将changeIndex定义为节流函数，该函数触发很频繁时，设置50ms才会执行一次
    changeIndex: throttle(function (index){
      this.currentIndex = index
    },50),
    //鼠标移除触发时间
    leaveIndex(){
      this.currentIndex = -1
    }
  }
```





