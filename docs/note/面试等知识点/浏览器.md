## 同域请求的并发数限制的原因

> 浏览器的并发请求数目限制是针对同一域名的，同一时间针对同一域名下的请求有一定数量限制，超过限制数目的请求会被阻塞（chorme和firefox的限制请求数都是 的**6**个）。

+ 限制其数量的原因是：基于浏览器端口的限制和线程切换开销的考虑，浏览器为了保护自己不可能无限量的并发请求，如果一次性将所有请求发送到服务器，也会造成服务器的负载上升。

## 同源策略

同源策路(Same Origin Policy)是一种约定，它是浏览器最核心最基本的**安全功能**。所谓的同源是指域名、协议、端口相同。不同源的客户端脚本在没有明确授权的情况下是不允许读写其他网站的资源

**同源策略的限制：**

+ Cookie、LocalStorage 和 IindexDB 无法读取。
+ DOM 无法获得。
+ AJAX 请求不能发送。
  

## 同源策略作用

+ 防止恶意网页可以获取其他网站的本地数据。
+ 防止恶意网站iframe 其他网站的时候，获取数据。
+ 防止恶意网站在自己网站有访问其他网站的权利，以免通过cookie免登，拿到数据。(CSRF)

## 浏览器每一帧都做了什么

页面的内容都是一帧一帧绘制出来的，浏览器刷新率代表浏览器一秒绘制多少帧。

原则上说 1s内绘制的帧数也多，画面表现就也细腻。目前浏览器大多是 60Hz（60帧/s），每一帧耗时也
就是在 16.5ms 左右。那么在这一帧的（ 16.6ms)过程中浏览器又干了些什么呢？
过下面这几个过程：

+ 接受输入事件
+ 执行事件回调
+ 开始一帧
+ 执行 RAF (RequestAnimationframe)
+ 页面布局，样式计算
+ 绘制渲染
+ 执行 RIC (RequestldelCallbaok)

第七步的 RIC 事件不是每—帧结束都会执行，只有在一帧的 16.6ms 中做完了前面 6件事儿且还有剩余时间，才会执行。

如果一帧执行结束后还有时间执行 RIC 事件，那么下一帧需要在事件执行结束才能继续渲染，所以 RIC 执行不要超过 30ms，如果长时间不将控制权交还给浏览器，会影响下一帧的渲染，导致页面出现卡顿和事件响应不及时。